# <a name="microsoft-graph-throttling-guidance"></a><span data-ttu-id="3809f-101">Guía de limitación de Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="3809f-101">Microsoft Graph throttling guidance</span></span>


<span data-ttu-id="3809f-p101">La limitación restringe el número de llamadas simultáneas a un servicio para evitar el uso excesivo de los recursos. Microsoft Graph está diseñado para admitir un gran volumen de solicitudes. Si se produce un número abrumador de solicitudes, la limitación ayuda a mantener un rendimiento y fiabilidad óptimos del servicio Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="3809f-p101">Throttling limits the number of concurrent calls to a service to prevent overuse of resources. Microsoft Graph is designed to handle a high volume of requests. If an overwhelming number of requests occurs, throttling helps maintain optimal performance and reliability of the Microsoft Graph service.</span></span>

<span data-ttu-id="3809f-p102">Los márgenes de la limitación varían en función del escenario. Por ejemplo, si va a realizar un gran volumen de escrituras, la posibilidad de limitación es mayor que si solo va a realizar lecturas.</span><span class="sxs-lookup"><span data-stu-id="3809f-p102">Throttling limits vary based on the scenario. For example, if you are performing a large volume of writes, the possibility for throttling is higher than if you are only performing reads.</span></span>

## <a name="what-happens-when-throttling-occurs"></a><span data-ttu-id="3809f-107">¿Qué sucede cuando se produce la limitación?</span><span class="sxs-lookup"><span data-stu-id="3809f-107">What happens when throttling occurs?</span></span>

<span data-ttu-id="3809f-p103">Cuando se supera un umbral límite, Microsoft Graph limita las solicitudes sucesivas de ese cliente durante un período de tiempo. Cuando se produce la limitación, Microsoft Graph devuelve el código de estado HTTP 429 (demasiadas solicitudes) y las solicitudes proporcionan errores. Se devuelve un tiempo de espera sugerido en el encabezado de la respuesta de la solicitud con errores. El comportamiento de la limitación puede depender del tipo y el número de solicitudes. Por ejemplo, si tiene un gran volumen de solicitudes, se regulan todos los tipos de estas. Los límites del umbral varían según el tipo de solicitud. Por lo tanto, podría encontrarse un escenario donde se limiten las escrituras pero se sigan permitiendo las lecturas.</span><span class="sxs-lookup"><span data-stu-id="3809f-p103">When a throttling threshold is exceeded, Microsoft Graph limits any further requests from that client for a period of time. When throttling occurs, Microsoft Graph returns HTTP status code 429 (Too many requests), and the requests fail. A suggested wait time is returned in the response header of the failed request. Throttling behavior can depend on the type and number of requests. For example, if you have a high volume of requests, all requests types are throttled. Threshold limits vary based on the request type. Therefore, you could encounter a scenario where writes are throttled but reads are still permitted.</span></span> 

## <a name="common-throttling-scenarios"></a><span data-ttu-id="3809f-115">Escenarios de limitación comunes</span><span class="sxs-lookup"><span data-stu-id="3809f-115">Common throttling scenarios</span></span>

<span data-ttu-id="3809f-116">Las causas más comunes de limitación de los clientes incluyen:</span><span class="sxs-lookup"><span data-stu-id="3809f-116">The most common causes of throttling of clients include:</span></span>

* <span data-ttu-id="3809f-117">Un gran número de solicitudes en todas las aplicaciones de un espacio empresarial.</span><span class="sxs-lookup"><span data-stu-id="3809f-117">A large number of requests across all applications in a tenant.</span></span>
* <span data-ttu-id="3809f-118">Un gran número de solicitudes de una aplicación determinada a través de todos los espacios empresariales.</span><span class="sxs-lookup"><span data-stu-id="3809f-118">A large number of requests from a particular application across all tenants.</span></span>

## <a name="best-practices-to-handle-throttling"></a><span data-ttu-id="3809f-119">Procedimientos recomendados para tratar la limitación</span><span class="sxs-lookup"><span data-stu-id="3809f-119">Best practices to handle throttling</span></span>

<span data-ttu-id="3809f-120">Las siguientes son recomendaciones para el tratamiento de la limitación:</span><span class="sxs-lookup"><span data-stu-id="3809f-120">The following are best practices for handling throttling:</span></span>

* <span data-ttu-id="3809f-121">Reduzca el número de operaciones por solicitud.</span><span class="sxs-lookup"><span data-stu-id="3809f-121">Reduce the number of operations per request.</span></span>
* <span data-ttu-id="3809f-122">Reduzca la frecuencia de llamadas.</span><span class="sxs-lookup"><span data-stu-id="3809f-122">Reduce the frequency of calls.</span></span>
* <span data-ttu-id="3809f-123">Evite los reintentos inmediatos, dado que todas las solicitudes se acumulan contra los límites de uso.</span><span class="sxs-lookup"><span data-stu-id="3809f-123">Avoid immediate retries, because all requests accrue against your usage limits.</span></span>

<span data-ttu-id="3809f-124">Cuando se implementa el control de errores, utilice el código de error HTTP 429 para detectar la limitación.</span><span class="sxs-lookup"><span data-stu-id="3809f-124">When you implement error handling, use the HTTP error code 429 to detect throttling.</span></span> <span data-ttu-id="3809f-125">La respuesta de error incluye el campo *Retry-After* en el encabezado de la respuesta.</span><span class="sxs-lookup"><span data-stu-id="3809f-125">The failed response includes the *Retry-After* field in the response header.</span></span> <span data-ttu-id="3809f-126">Interrumpir las solicitudes mediante el retraso *Retry-After* es la forma más rápida de recuperar la limitación, ya que Microsoft Graph sigue registrando el uso de recursos durante la limitación de un cliente.</span><span class="sxs-lookup"><span data-stu-id="3809f-126">When you implement error handling, use the HTTP error code 429 to detect throttling. The failed response includes the Retry-After field in the response header. Backing off requests using the *Retry-After* delay is the fastest way to recover from throttling because Microsoft Graph continues to log resource usage while a client is being throttled.</span></span>

1. <span data-ttu-id="3809f-127">Espere el número de segundos especificado en el campo *Retry-After*.</span><span class="sxs-lookup"><span data-stu-id="3809f-127">Wait the number of seconds specified in the *Retry-After* field.</span></span>
2. <span data-ttu-id="3809f-128">Vuelva a intentar realizar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="3809f-128">Retry the request.</span></span>
3. <span data-ttu-id="3809f-p105">Si la solicitud vuelve a proporcionar errores con un código de error 429, todavía se le está limitando. Siga utilizando el retraso recomendado Retry-After y vuelva a intentar la solicitud hasta que lo logre.</span><span class="sxs-lookup"><span data-stu-id="3809f-p105">If the request fails again with a 429 error code, you are still being throttled. Continue to use the recommended Retry-After delay and retry the request until it succeeds.</span></span>

<span data-ttu-id="3809f-131">Actualmente, los siguientes recursos proporcionan un encabezado retry-after:</span><span class="sxs-lookup"><span data-stu-id="3809f-131">The following resources currently provide a retry-after header:</span></span>
- [<span data-ttu-id="3809f-132">Usuario</span><span class="sxs-lookup"><span data-stu-id="3809f-132">User</span></span>](../api-reference/v1.0/resources/user.md)
- [<span data-ttu-id="3809f-133">Foto</span><span class="sxs-lookup"><span data-stu-id="3809f-133">Photo</span></span>](../api-reference/v1.0/resources/profilephoto.md)
- [<span data-ttu-id="3809f-134">Correo</span><span class="sxs-lookup"><span data-stu-id="3809f-134">mail</span></span>](../api-reference/v1.0/resources/message.md)
- [<span data-ttu-id="3809f-135">Calendario (usuarios y grupos)</span><span class="sxs-lookup"><span data-stu-id="3809f-135">Calendar (users and groups)</span></span>](../api-reference/v1.0/resources/event.md)
- [<span data-ttu-id="3809f-136">Contacto</span><span class="sxs-lookup"><span data-stu-id="3809f-136">Contact</span></span>](../api-reference/v1.0/resources/contact.md)
- [<span data-ttu-id="3809f-137">Datos adjuntos</span><span class="sxs-lookup"><span data-stu-id="3809f-137">Attachment</span></span>](../api-reference/v1.0/resources/attachment.md)
- [<span data-ttu-id="3809f-138">Conversaciones de grupo</span><span class="sxs-lookup"><span data-stu-id="3809f-138">Group conversations</span></span>](../api-reference/v1.0/resources/conversation.md)
- [<span data-ttu-id="3809f-139">Contactos y redes sociales</span><span class="sxs-lookup"><span data-stu-id="3809f-139">People and social</span></span>](../api-reference/beta/resources/social_overview.md)
- [<span data-ttu-id="3809f-140">Unidad (OneDrive)</span><span class="sxs-lookup"><span data-stu-id="3809f-140">Drive (OneDrive)</span></span>](../api-reference/v1.0/resources/drive.md)

<span data-ttu-id="3809f-141">Para obtener una explicación más amplia de la limitación en Microsoft Cloud, vea [Patrón Throttling]((https://msdn.microsoft.com/es-ES/library/office/dn589798.aspx)).</span><span class="sxs-lookup"><span data-stu-id="3809f-141">For a broader discussion of throttling on the Microsoft Cloud, see [Throttling Pattern]((https://msdn.microsoft.com/es-ES/library/office/dn589798.aspx)).</span></span>
