# <a name="use-the-microsoft-graph-api"></a><span data-ttu-id="25ae3-101">Usar la API de Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="25ae3-101">Use the Microsoft Graph API</span></span>

<span data-ttu-id="25ae3-102">Microsoft Graph es una API para web REST que permite tener acceso a los recursos del servicio Microsoft Cloud.</span><span class="sxs-lookup"><span data-stu-id="25ae3-102">Microsoft Graph is a RESTful web API that enables you to access Microsoft Cloud service resources.</span></span> <span data-ttu-id="25ae3-103">Después de [registrar su aplicación](auth_register_app_v2.md) y [obtener tokens de autenticación para un usuario](auth_v2_user.md) o [servicio](auth_v2_service.md), puede realizar solicitudes a la API de Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="25ae3-103">After you [register your app](auth_register_app_v2.md) and [get authentication tokens for a user](auth_v2_user.md) or [service](auth_v2_service.md), you can make requests to the Microsoft Graph API.</span></span>

> <span data-ttu-id="25ae3-104">**Importante:**  Cómo se aplican las directivas de acceso condicional a Microsoft Graph es algo que está cambiando.</span><span class="sxs-lookup"><span data-stu-id="25ae3-104">**Important:**  How conditional access policies apply to Microsoft Graph is changing.</span></span> <span data-ttu-id="25ae3-105">Las aplicaciones deben actualizarse para administrar los escenarios donde se configuran las directivas de acceso condicional.</span><span class="sxs-lookup"><span data-stu-id="25ae3-105">Applications need to be updated to handle scenarios where conditional access policies are configured.</span></span> <span data-ttu-id="25ae3-106">Para obtener más información y directrices, vea [Instrucciones para desarrolladores para Acceso condicional de Azure Active Directory]((https://docs.microsoft.com/azure/active-directory/develop/active-directory-conditional-access-developer)).</span><span class="sxs-lookup"><span data-stu-id="25ae3-106">For more information and guidance, see [Developer Guidance for Azure Active Directory Conditional Access]((https://docs.microsoft.com/azure/active-directory/develop/active-directory-conditional-access-developer)).</span></span>

<span data-ttu-id="25ae3-107">Para leer o escribir en recursos como usuarios o mensajes de correo electrónico, se construye una solicitud similar a la siguiente.</span><span class="sxs-lookup"><span data-stu-id="25ae3-107">To read from or write to a resource such as a user or an email message, you construct a request that looks like the following.</span></span>

```http
https://graph.microsoft.com/{version}/{resource}?query-parameters
```

<span data-ttu-id="25ae3-108">Los componentes de una solicitud incluyen:</span><span class="sxs-lookup"><span data-stu-id="25ae3-108">The components of a request include:</span></span>

* <span data-ttu-id="25ae3-109">[Método HTTP](#http-methods): método HTTP utilizado en la solicitud a Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="25ae3-109">[HTTP method](#http-methods) - The HTTP method used on the request to Microsoft Graph.</span></span>
* <span data-ttu-id="25ae3-110">[`{version}`](#version): la versión de la API de Microsoft Graph utilizada por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="25ae3-110">[`{version}`](#version) - The version of the Microsoft Graph API your application is using.</span></span>
* <span data-ttu-id="25ae3-111">[`{resource}`](#resource): el recurso de Microsoft Graph al que se hace referencia.</span><span class="sxs-lookup"><span data-stu-id="25ae3-111">[`{resource}`](#resource) - The resource in Microsoft Graph that you're referencing.</span></span>
* <span data-ttu-id="25ae3-112">[query-parameters](#query-parameters-optional): un conjunto opcional de parámetros para modificar la solicitud o la respuesta.</span><span class="sxs-lookup"><span data-stu-id="25ae3-112">[query-parameters](#query-parameters-optional) - An optional set of parameters to modify the request or response.</span></span>

<span data-ttu-id="25ae3-113">Después de realizar una solicitud, se devuelve una respuesta que incluye:</span><span class="sxs-lookup"><span data-stu-id="25ae3-113">After you make a request, a response is returned that includes:</span></span> 

* <span data-ttu-id="25ae3-114">Código de estado: un código de estado HTTP que indica éxito o error.</span><span class="sxs-lookup"><span data-stu-id="25ae3-114">Status code - An HTTP status code that indicates success or failure.</span></span> <span data-ttu-id="25ae3-115">Para obtener más información sobre los códigos de error HTTP, consulte [Errores](errors.md).</span><span class="sxs-lookup"><span data-stu-id="25ae3-115">For details about HTTP error codes, see [Errors](errors.md).</span></span>
* <span data-ttu-id="25ae3-p104">Mensaje de respuesta: los datos que ha solicitado o el resultado de la operación. Con algunas operaciones, el mensaje de respuesta puede estar vacío.</span><span class="sxs-lookup"><span data-stu-id="25ae3-p104">Response message - The data that you requested or the result of the operation. The response message can be empty for some operations.</span></span>
* <span data-ttu-id="25ae3-118">Vínculo **Siguiente**: si su solicitud devuelve una gran cantidad de datos, debe usar el vínculo **Siguiente** para recorrer las páginas de resultados.</span><span class="sxs-lookup"><span data-stu-id="25ae3-118">**Next** link - If your request returns a lot of data, you need to page through it by choosing **Next**.</span></span> <span data-ttu-id="25ae3-119">Para más información, consulte [Paginación](paging.md).</span><span class="sxs-lookup"><span data-stu-id="25ae3-119">For details, see [Paging](paging.md).</span></span>

## <a name="http-methods"></a><span data-ttu-id="25ae3-120">Métodos HTTP</span><span class="sxs-lookup"><span data-stu-id="25ae3-120">HTTP methods</span></span>

<span data-ttu-id="25ae3-p106">Microsoft Graph utiliza el método HTTP en la solicitud para determinar lo que está haciendo la solicitud. La API admite los siguientes métodos.</span><span class="sxs-lookup"><span data-stu-id="25ae3-p106">Microsoft Graph uses the HTTP method on your request to determine what your request is doing. The API supports the following methods.</span></span>


|<span data-ttu-id="25ae3-123">**Método**</span><span class="sxs-lookup"><span data-stu-id="25ae3-123">**Method**</span></span> |<span data-ttu-id="25ae3-124">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="25ae3-124">**Description**</span></span>                             |
| :----- | :------------------------------------------- |
| <span data-ttu-id="25ae3-125">GET</span><span class="sxs-lookup"><span data-stu-id="25ae3-125">GET</span></span>    | <span data-ttu-id="25ae3-126">Lee datos de un recurso.</span><span class="sxs-lookup"><span data-stu-id="25ae3-126">Read data from a resource.</span></span>                   |
| <span data-ttu-id="25ae3-127">POST</span><span class="sxs-lookup"><span data-stu-id="25ae3-127">POST</span></span>   | <span data-ttu-id="25ae3-128">Crea un nuevo recurso o realiza una acción.</span><span class="sxs-lookup"><span data-stu-id="25ae3-128">Create a new resource, or perform an action.</span></span> |
| <span data-ttu-id="25ae3-129">PATCH</span><span class="sxs-lookup"><span data-stu-id="25ae3-129">PATCH</span></span>  | <span data-ttu-id="25ae3-130">Actualiza un recurso con nuevos valores.</span><span class="sxs-lookup"><span data-stu-id="25ae3-130">Update a resource with new values.</span></span>           |
| <span data-ttu-id="25ae3-131">PUT</span><span class="sxs-lookup"><span data-stu-id="25ae3-131">PUT</span></span>    | <span data-ttu-id="25ae3-132">Reemplaza un recurso por otro nuevo.</span><span class="sxs-lookup"><span data-stu-id="25ae3-132">Replace a resource with a new one.</span></span>           |
| <span data-ttu-id="25ae3-133">DELETE</span><span class="sxs-lookup"><span data-stu-id="25ae3-133">DELETE</span></span> | <span data-ttu-id="25ae3-134">Elimina un recurso.</span><span class="sxs-lookup"><span data-stu-id="25ae3-134">Remove a resource.</span></span>                           |

* <span data-ttu-id="25ae3-135">Para los métodos **GET** y **DELETE**, no es necesario un cuerpo de solicitud.</span><span class="sxs-lookup"><span data-stu-id="25ae3-135">For the methods **GET** and **DELETE**, no request body is required.</span></span>
* <span data-ttu-id="25ae3-136">Los métodos **POST**, **PATCH** y **PUT** requieren un cuerpo de la solicitud —generalmente especificado en formato JSON— que contiene información adicional, como los valores de las propiedades del recurso.</span><span class="sxs-lookup"><span data-stu-id="25ae3-136">The **POST**, **PATCH**, and **PUT** methods require a request body, usually specified in JSON format, that contains additional information, such as the values for properties of the resource.</span></span>

## <a name="version"></a><span data-ttu-id="25ae3-137">Versión</span><span class="sxs-lookup"><span data-stu-id="25ae3-137">Version</span></span>

<span data-ttu-id="25ae3-138">Microsoft Graph admite actualmente dos versiones: `v1.0` y `beta`.</span><span class="sxs-lookup"><span data-stu-id="25ae3-138">Microsoft Graph currently supports two versions: `v1.0` and `beta`.</span></span>

* <span data-ttu-id="25ae3-139">`v1.0` incluye las API que por lo general están disponibles.</span><span class="sxs-lookup"><span data-stu-id="25ae3-139">`v1.0` includes generally available APIs.</span></span> <span data-ttu-id="25ae3-140">Utilice la versión v1.0 para todas las aplicaciones de producción.</span><span class="sxs-lookup"><span data-stu-id="25ae3-140">Use the v1.0 version for all production apps.</span></span>
* <span data-ttu-id="25ae3-141">`beta` incluye las API que todavía están en versión preliminar.</span><span class="sxs-lookup"><span data-stu-id="25ae3-141">`beta` includes APIs that are currently in preview.</span></span> <span data-ttu-id="25ae3-142">Debido a que podríamos introducir cambios importantes en nuestras API beta, recomendamos que utilice la versión beta solo para probar aplicaciones que están en desarrollo, y no en sus aplicaciones de producción.</span><span class="sxs-lookup"><span data-stu-id="25ae3-142">Because we might introduce breaking changes to our beta APIs, we recommend that you use the beta version only to test apps that are in development; do not use beta APIs in your production apps.</span></span>

<span data-ttu-id="25ae3-143">Siempre agradecemos los comentarios sobre nuestras API beta.</span><span class="sxs-lookup"><span data-stu-id="25ae3-143">We are always looking for feedback on our beta APIs.</span></span> <span data-ttu-id="25ae3-144">Para dar su opinión o solicitar características, visite nuestra página [UserVoice]((https://officespdev.uservoice.com/)).</span><span class="sxs-lookup"><span data-stu-id="25ae3-144">To provide feedback or request features, see our [UserVoice]((https://officespdev.uservoice.com/)) page.</span></span>

<span data-ttu-id="25ae3-145">Para obtener más información sobre las versiones de API, consulte [Control de versiones y soporte](versioning_and_support.md).</span><span class="sxs-lookup"><span data-stu-id="25ae3-145">For more information about API versions, see [Versioning and support](versioning_and_support.md).</span></span>

## <a name="resource"></a><span data-ttu-id="25ae3-146">Recurso</span><span class="sxs-lookup"><span data-stu-id="25ae3-146">Resource</span></span>

<span data-ttu-id="25ae3-147">La dirección URL incluirá el recurso o los recursos con los que interactúa en la solicitud, como `me`, `users`, `groups`, `drives` y `sites`.</span><span class="sxs-lookup"><span data-stu-id="25ae3-147">Your URL will include the resource or resources you are interacting with in the request, such as `me`, `users`, `groups`, `drives`, and `sites`.</span></span> <span data-ttu-id="25ae3-148">Cada uno de los recursos de nivel superior también incluye **relaciones** que se pueden usar para tener acceso a recursos adicionales, como `me/messages` o `me/drive`.</span><span class="sxs-lookup"><span data-stu-id="25ae3-148">Each of the top-level resources also include **relationships**, which you can use to access additional resources, like `me/messages` or `me/drive`.</span></span> <span data-ttu-id="25ae3-149">También puede interactuar con los recursos con **métodos** (por ejemplo, para enviar un correo electrónico, use `me/sendMail`).</span><span class="sxs-lookup"><span data-stu-id="25ae3-149">You can also interact with resources using **methods**; for example, to send an email, use `me/sendMail`.</span></span>

<span data-ttu-id="25ae3-150">Para obtener más información sobre cómo desplazarse por los métodos y relaciones de recursos, vea [Recorrido por Microsoft Graph](traverse_the_graph.md).</span><span class="sxs-lookup"><span data-stu-id="25ae3-150">For more information about how to navigate resource relationships and methods, see Traverse the graph.</span></span> 

<span data-ttu-id="25ae3-p111">Cada recurso podría necesitar diferentes permisos de acceso. A menudo necesitará un nivel de permisos mayor para crear o actualizar un recurso que para leerlo. Para obtener más información sobre los permisos necesarios, consulte el tema de referencia del método.</span><span class="sxs-lookup"><span data-stu-id="25ae3-p111">Each resource might require different permissions to access it. You will often need a higher level of permissions to create or update a resource than to read it. For details about required permissions, see the method reference topic.</span></span> 

<span data-ttu-id="25ae3-154">Para obtener más información acerca de los permisos, consulte [Referencia de permisos](permissions_reference.md).</span><span class="sxs-lookup"><span data-stu-id="25ae3-154">For details about permissions, see [Permissions reference](permissions_reference.md).</span></span>

## <a name="query-parameters-optional"></a><span data-ttu-id="25ae3-155">Parámetros de consulta (opcional)</span><span class="sxs-lookup"><span data-stu-id="25ae3-155">Query parameters (optional)</span></span>

<span data-ttu-id="25ae3-p112">Puede usar parámetros de consulta opcionales para personalizar la respuesta de la aplicación Microsoft Graph. Use parámetros de consulta para incluir más o menos propiedades que la respuesta predeterminada, filtrar la respuesta según los elementos que coincidan con una consulta personalizada o proporcionar parámetros adicionales para un método.</span><span class="sxs-lookup"><span data-stu-id="25ae3-p112">You can use optional query parameters to customize the response in your Microsoft Graph app. Use query parameters to include more or fewer properties than the default response, filter the response for items that match a custom query, or provide additional parameters for a method.</span></span>

<span data-ttu-id="25ae3-158">Por ejemplo, agregar el siguiente parámetro de filtro restringe los mensajes devueltos solo a aquellos que tengan la propiedad `emailAddress` de `jon@contoso.com`.</span><span class="sxs-lookup"><span data-stu-id="25ae3-158">For example, adding the following filter parameter restricts the messages returned to only those with the `emailAddress` property of `jon@contoso.com`.</span></span>

```http
https://graph.microsoft.com/v1.0/me/messages?filter=emailAddress eq 'jon@contoso.com'
```

<span data-ttu-id="25ae3-159">Para obtener más información sobre los parámetros de consulta, vea [Personalizar respuestas](query_parameters.md).</span><span class="sxs-lookup"><span data-stu-id="25ae3-159">For more information about query parameters, see [Customize responses](query_parameters.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="25ae3-160">Siguientes pasos</span><span class="sxs-lookup"><span data-stu-id="25ae3-160">Next steps</span></span>

<span data-ttu-id="25ae3-161">Está listo para poner en funcionamiento Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="25ae3-161">You're ready to get up and running with Microsoft Graph.</span></span> <span data-ttu-id="25ae3-162">Para obtener más información, vaya a [Graph Explorer]((https://developer.microsoft.com/es-ES/graph/graph-explorer)) y pruebe algunas solicitudes y el [Inicio rápido]((https://developer.microsoft.com/es-ES/graph/quick-start)), o comience con uno de nuestros [ejemplos de código y SDK]((https://developer.microsoft.com/es-ES/graph/code-samples-and-sdks)).</span><span class="sxs-lookup"><span data-stu-id="25ae3-162">To learn more, go to the [Graph Explorer]((https://developer.microsoft.com/es-ES/graph/graph-explorer)) to try out some requests, try the [Quick Start]((https://developer.microsoft.com/es-ES/graph/quick-start)), or get started using one of our [SDKs and code samples]((https://developer.microsoft.com/es-ES/graph/code-samples-and-sdks)).</span></span>
